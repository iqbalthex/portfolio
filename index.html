<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="preload" href="assets/css/fonts.css" />
  <link type="text/css" rel="stylesheet" href="assets/css/main.css" />
</head>
<body class="flex flex-col">

<header class="flex">
	 <nav>
    <div class="themes">
      <span class="picker"></span>
    </div>
    <div class="menu">
      <span class="menu-toggler">=</span>
    </div>
	 </nav>
</header>

<main class="flex flex-col">
  <div class="content about active">
    <div class="head">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <h2>
        <input id="about-radio" type="radio" name="content" checked />
        <label for="about-radio">&lt; <span>about me</span> /&gt;</label>
      </h2>
    </div>
    <div class="body">
      <div class="glass">
        <p>Hello, my name's Iqbal</p>
      </div>
    </div>
  </div>

  <div class="content skill">
    <div class="head">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <h2>
        <input id="skill-radio" type="radio" name="content" />
        <label for="skill-radio">&lt; <span>main skills</span> /&gt;</label>
      </h2>
    </div>
    <div class="body">
      <p>Web development</p>
    </div>
  </div>

  <div class="content contact">
    <div class="head">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <h2>
        <input id="contact-radio" type="radio" name="content" />
        <label for="contact-radio">&lt; <span>contact me</span> /&gt;</label>
      </h2>
    </div>
    <div class="body">
      <p>081231360159</p>
    </div>
  </div>
</main>

<script>

const contentBtn = document.querySelectorAll('.content .head input');

contentBtn.forEach(btn => {
  btn.onclick = event => {
    const contName = event.target.id.split('-')[0];
    const activeCont = document.querySelector(`.content.${contName}`);
    const inactiveConts = document.querySelectorAll(`.content:not(.${contName})`);

    activeCont.classList.add('active');
    inactiveConts.forEach(cont => cont.classList.remove('active'));

    decorateHead();
  }
});


function decorateHead() {
  const label = document.querySelector('.active .head label > span');
  let html = '';
  for (let i=0; i<label.innerText.length; i++) {
    const delay = .1 * i;
    html += `<span style="--delay: ${delay}s">`
      + label.innerText[i] +
    '</span>';
  }
  label.innerHTML = html;
}


window.onload = () => {
  document.querySelectorAll('link[rel=preload]').forEach(link => {
    link.rel = 'stylesheet';
  });
  decorateHead();
}


</script>
<!--script type="text/css" src="assets/js/main.js"></script-->
</body>
</html>